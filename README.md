# FieryLedLamp
# Текущая версия : FieryLedLamp v3.3_IR 109 эффектов 
  - Добавлены эффекты Волшебный Фонарик и Огонь с искрами.
  - С целью повышения сетевой безопасности, пароль к WI-FI роутеру вашей сети перенесен в EEPROM. Там получить к нему доступ из сети гораздо сложнее.
 В веб-интерфейсе пароль отображается только при вводе. В других случаях поле пустое.
 Если нажать кнопку "Сохранить" при пустом поле ввода пароля, уже записанный в EEPROM пароль (если он был записан туда) не изменится.
   - Добавлена ​​настройка времени произнесения часов и минут. А также задержки между командами MP3-плеера. Эти настройки, а так же настройки максимального тока, типа и ориентации матрицы вынесены на отдельную веб-страницу "Настройки оборудования", попасть на которую можно со страницы "Начальные установки" (кнопка в самом низу).
 Для оригинального чипа время проговаривания часов и минут в пределах 1800 – 2500 мс и задержка 50 – 100 мс.
 Для не оригинального чипа 2500 – 3500 мс и 100 – 180 мс соответственно. Эти параметры вынесены для настройки, потому что они сильно зависят от скорости работы вашей SD-карты (флэшки) и даже количества файлов на ней.
 Выбор чипа DF-Player (оригинальный или нет) в файле Constants.h по-прежнему актуален. Этот выбор влияет на другие параметры. Не пренебрегайте им.
   - Переработан алгоритм сохранения настроек эффектов. Настройки сохраняются в EEPROM в следующих случаях: а) при выключении матрицы (кнопкой, пультом в приложении или веб) если не включен режим "Цикл"; б) включение режима "Цикл"; в) при выключении по таймеру, если не активен режим "Цикл".
 Настройка эффектов возобновляется с EEPROM в случаях: а) при перезагрузке лампы (включение питания); б) при включении матрицы (кнопкой, пультом в приложении или веб);
 в) при выключении режима "Цикл". Сохранение настроек эффектов в файл и чтение их из этого файла по-прежнему работает. Как и восстановление их по умолчанию. (В веб-интерфейсе соответствующие кнопки)
  - Как всегда, исправлено несколько ошибок.

# Внимание!!! ИЗМЕНЕНО ПОДКЛЮЧЕНИЕ КНОПКИ И МАТРИЦЫ!!! По умолчанию матрица в этой прошивке подключается на D3. Кнопка питается от 3.3 вольта.
# Внимательно смотрите схему подключения. Или в файле constant.h измените #define LED_PIN (0U) на #define LED_PIN (2U).

Распакуйте содержимое архива в корневую папку на диске (не на рабочий стол, пожалуйста)
и делайте всё так же, как показал Алекс Гайвер в своём видео https://youtu.be/771-Okf0dYs?t=525. Отличие от видео - матрицу подключаем к D3 и кнопку питаем от 3,3 вольта.
В архиве есть файл "ПРОЧТИ МЕНЯ!!.doc. Его нужно внимательно прочитать. Для загрузки файлов из папки data в файловую систему контролера нужно установить Uploader. Видео https://esp8266-arduinoide.ru/esp8266fs/
Версию платы в "Менеджере плат" выбирайте 2.7.4. При первом запуске лампа создаст свою WiFi сеть с именем Led Lamp WEB, пароль у этой сети при первом запуске будет 12341234. После подключения к сети Led Lamp WEB наберите в браузере 192.168.4.1 и зайдите на web страницу лампы. Там можно изменить имя лампы (если их несколько в сети), навтроить подключение к Вашей домашней WiFi сети часовой пояс и переход на летнее время. Так же можно сменить пароль точки доступа (рекомендуется) и имя точки доступа. Перезагрузить лампу.
Все настройки прошивки находятся на вкладке Constants.h (там по-русски, без проблем разберётесь) и в файле data/config.json (там можно ничего не менять, всё меняется потом с web страницы лампы). Другие настройки можно выполнить на странице лампы.

Тем, у кого лампа уже собрана и нет возможности (или сложно) добраться до разъёма для перепрошивки, можно прошиться по WEB. Для этого нужно использовать WEB_Updater.  В папке есть файл Readme.txt. Внимательно его прочитайте

В данной прошивке режим работы ESP_MODE 1 (с роутером) или ESP_MODE 0 (без (точка доступа)) .
В любой момент его можно будет поменять, либо он сам изменится.

Обсуждение исходного и этого проектов тут: https://community.alexgyver.ru/threads/wifi-lampa-budilnik-obsuzhdenie-proshivki-fieryledlamp-ot-alvikskor.7223/page-17
